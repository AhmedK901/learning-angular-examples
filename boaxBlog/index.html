<!DOCTYPE html>
<html ng-app="boaxBlog">
<head>
	<title>My Blog</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-sanitize.js"></script>
</head>
<body>

	<div id="wrap">

		<div id="header" ng-controller="blogHeader">
			<h1>{{blog_name}}</h1>
		</div>

		<div id="articles" ng-controller="content">

			<div class="post" ng-repeat="post in last_posts">
				<h2>{{ post.post_title}}</h2>

				<div class="post_content" ng-bind-html="post.post_content">
				</div>

				<hr>
			</div>
		</div>
	</div>

	<script>
	// url of back-end stuff
	var backend_url = 'http://vserver/demox/mix/boaxBlog/back-end/';

	// angular app
	var app = angular.module('boaxBlog', ['ngSanitize']);
	
	// blog header controller
	app.controller('blogHeader', function($scope, $http) {

		// set blog name variable
		$scope.blog_name = '';

		// get blog name
		$http.get(backend_url+'blog/setting/blog_title').success(function(data){
			$scope.blog_name = data[0].setting_value;
		});


	})

	// content controller
	app.controller('content', function($scope, $http) {
		
		
		
		// set last posts object
		$scope.last_posts = [];

		// get last posts object
		$http.get(backend_url+'blog/posts').success(function(data) {
			$scope.last_posts = data;
		});

		
	});


	</script>
</body>
</html>